{"title":"CleanMyMac X破解初尝试","uid":"0c99958674906a2c51d4c3604b5ceb11","slug":"CleanMyMac X破解初尝试","date":"2020-03-15T01:16:00.000Z","updated":"2021-10-07T00:48:59.288Z","comments":true,"path":"api/articles/CleanMyMac X破解初尝试.json","keywords":null,"cover":[],"content":"<h1 id=\"缘起\"><a href=\"#缘起\" class=\"headerlink\" title=\"缘起\"></a>缘起</h1><p><code>CleanMyMac X</code>应该是每个Mac用户耳熟能详的电脑清洁软件，以下简称<code>CMM</code>。我几天前用的是<code>CMM 4.5.3</code>版本，是在xx破解网站上搜索的TNT版本，结果今天一打开CMM发现，已经有了4.6.0版本的更新。与其到xx破解网站上搜破解版，不如自己再动手破解一遍，于是就有了这篇文章。我真的……一开始我也没想到这次破解会这么顺……</p>\n<h1 id=\"准备\"><a href=\"#准备\" class=\"headerlink\" title=\"准备\"></a>准备</h1><ul>\n<li><code>CMM 4.6.0</code>一枚；</li>\n<li><code>Hopper Disassembler v4</code>一枚。</li>\n</ul>\n<h1 id=\"破解\"><a href=\"#破解\" class=\"headerlink\" title=\"破解\"></a>破解</h1><h2 id=\"查找线索\"><a href=\"#查找线索\" class=\"headerlink\" title=\"查找线索\"></a>查找线索</h2><p>首先将CMM拖进Hopper。我先搜索了一波UI中的Strings。搜索无果后，尝试搜索<code>vip</code> <code>register</code> <code>activate</code>关键词，发现<code>activate</code>关键词有很多激活相关项。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2020/3/15/hop-cmm-search-str.jpg\" alt=\"搜索字符串\"></p>\n<p>我找到了四个方法，名为<code>isAppActivated</code>。我想，相比其他复杂的函数与方法，那是不是把这四个方法patch了，整个CMM就能用了呢？</p>\n<p>然而我又发现了第一个方法<code> -[CMActivationManager isAppActivated]</code>的伪代码调用了一个函数<code>_mLyGsJNgru0iJKGfhK</code>，并将这个函数的返回值（是<code>int</code>类型）赋予给了<code>rax</code>，而这个函数的内部逻辑很复杂，很可能就是验证激活的过程。</p>\n<h2 id=\"修改程序\"><a href=\"#修改程序\" class=\"headerlink\" title=\"修改程序\"></a>修改程序</h2><p>接着上一个步骤，双击进入<code>_mLyGsJNgru0iJKGfhK</code>，打开伪代码模式，看着一长串的代码别着急，从程序入口开始，按照程序的<code>goto</code>走，顺藤摸瓜，最后<code>return</code>了一个<code>rax</code>——那简单，跳到汇编模式，直接：</p>\n<pre class=\"line-numbers language-asm\" data-language=\"asm\"><code class=\"language-asm\">mov rax, 0x1\nret<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>再打开伪代码，你会发现这个方法的伪代码已经变成：</p>\n<pre class=\"line-numbers language-objc\" data-language=\"objc\"><code class=\"language-objc\">int _mLyGsJNgru0iJKGfhK(int arg0) &#123;\n    return 0x1;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>这就对了！</p>\n<h1 id=\"留下足迹\"><a href=\"#留下足迹\" class=\"headerlink\" title=\"留下足迹\"></a>留下足迹</h1><p>为什么要有这一步，在我的<a href=\"https://www.52pojie.cn/thread-1126808-1-1.html\">CrossOver 19</a>破解文章里已经说明了。在CMM中，我们要达到这样的效果：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2020/3/15/hop-cmm-mod-credits.png\" alt=\"留下足迹\"></p>\n<blockquote>\n<p>注：这个窗口可以在程序顶栏 CleanMyMac X &gt; 关于CleanMyMac里找到。</p>\n</blockquote>\n<p>这段文字是一个<code>.rtf</code>，在<code>/Applications/CleanMyMac X.app/Contents/Resources/zh-Hans.lproj/Credits.rtf</code>。打开这个文件，在开头按格式添加上你的Credit，注意一点，这个文件开头的几个空行要保留，否则达不到CMM的滚动效果。</p>\n<p>之后，就大功告成了！</p>\n<h1 id=\"BUG\"><a href=\"#BUG\" class=\"headerlink\" title=\"BUG\"></a>BUG</h1><ol>\n<li>使用时，应用缺少权限，即使已经在设置里设置了磁盘完全访问。</li>\n</ol>\n","text":"缘起CleanMyMac X应该是每个Mac用户耳熟能详的电脑清洁软件，以下简称CMM。我几天前用的是CMM 4.5.3版本，是在xx破解网站上搜索的TNT版本，结果今天一打开CMM发现，已经有了4.6.0版本的更新。与其到xx破解网站上搜破解版，不如自己再动手破解一遍，于是就有...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"计算机","slug":"计算机","count":24,"path":"api/categories/计算机.json"}],"tags":[{"name":"反编译","slug":"反编译","count":16,"path":"api/tags/反编译.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%BC%98%E8%B5%B7\"><span class=\"toc-text\">缘起</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87\"><span class=\"toc-text\">准备</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%A0%B4%E8%A7%A3\"><span class=\"toc-text\">破解</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E6%89%BE%E7%BA%BF%E7%B4%A2\"><span class=\"toc-text\">查找线索</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E7%A8%8B%E5%BA%8F\"><span class=\"toc-text\">修改程序</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%95%99%E4%B8%8B%E8%B6%B3%E8%BF%B9\"><span class=\"toc-text\">留下足迹</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#BUG\"><span class=\"toc-text\">BUG</span></a></li></ol>","author":{"name":"TLHorse","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/blog_img/avatar.jpg","link":"/","description":"","socials":{"github":"https://github.com/TLHorse","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45415111","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Hopper一拳搞定Interface Inspector","uid":"6234958824fdfd14caa9462ab14bc7a8","slug":"Hopper一拳搞定Interface Inspector","date":"2020-03-27T08:40:17.000Z","updated":"2022-02-14T12:07:48.744Z","comments":true,"path":"api/articles/Hopper一拳搞定Interface Inspector.json","keywords":null,"cover":[],"text":"前言最近本打算搞定 Downie 4破解版，可谁知开发者用了Swift语言编写，导致我这个小白破解总是不得逞。忽然间听说了一个叫做Interface Inspector的软件，感觉还挺厉害的。接下来先给大家介绍一下（这是官方介绍，不是广告）： Interface Inspecto...","link":"","photos":[],"count_time":{"symbolsCount":"6.4k","symbolsTime":"6 mins."},"categories":[{"name":"计算机","slug":"计算机","count":24,"path":"api/categories/计算机.json"}],"tags":[{"name":"反编译","slug":"反编译","count":16,"path":"api/tags/反编译.json"}],"author":{"name":"TLHorse","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/blog_img/avatar.jpg","link":"/","description":"","socials":{"github":"https://github.com/TLHorse","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45415111","juejin":"","customs":{}}}},"next_post":{"title":"Hopper之CrossOver 19 破解","uid":"3b72ce27c5e0567be9c5d382224a80fe","slug":"Hopper之CrossOver 19 破解","date":"2020-03-09T01:16:00.000Z","updated":"2022-03-21T05:22:24.809Z","comments":true,"path":"api/articles/Hopper之CrossOver 19 破解.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2020/3/27/hop-co-36600.png","text":"前言这篇文章不仅放在了我的博客上，还是本人在吾爱破解上的第一个帖子。我在吾爱破解论坛上发布帖子后，又将语言表达顺了一遍，放在了我的博客上，文中的图片链接全部引用自吾爱破解，可以看到吾爱破解的水印。此篇文章未经允许，谢绝转载，并仅供学习研究。 最近一直在鼓捣各种软件的逆向与反编译，...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"计算机","slug":"计算机","count":24,"path":"api/categories/计算机.json"}],"tags":[{"name":"反编译","slug":"反编译","count":16,"path":"api/tags/反编译.json"}],"author":{"name":"TLHorse","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/blog_img/avatar.jpg","link":"/","description":"","socials":{"github":"https://github.com/TLHorse","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45415111","juejin":"","customs":{}}}}}