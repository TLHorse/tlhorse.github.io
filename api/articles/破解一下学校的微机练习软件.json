{"title":"破解一下学校的微机练习软件","uid":"7e603a51e1efa3dc095aed03c859c165","slug":"破解一下学校的微机练习软件","date":"2022-01-20T05:25:35.000Z","updated":"2022-03-21T05:14:38.907Z","comments":true,"path":"api/articles/破解一下学校的微机练习软件.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-success.png","content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>如题，这次我来破解一下学校的微机练习软件。众所周知，我的逆向技术帖主要面向macOS和Linux，Windows逆向接触比较少，这次也是第一次破解Windows软件。因此技术方面的问题还请论坛的大佬指点。</p>\n<h1 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h1><p>说句没用的，学校的微机练习软件是用来练习微机中考的（我们这个省有）。这个软件是给中考微机出题的中标公司开发的，寒假学校让我们购买使用，30块钱。注册方式是购买注册码。在注册购买之前可以试用，每个题库只能做第一套试卷，如果点后面的会出现提示框，如图<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-unregistered.png\" alt=\"仅能答第一套题\"><br>除此之外，如果想使用软件的其他功能，例如随机抽取试卷，也需要注册码，如图<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-unregistered-random.png\" alt=\"不能随机抽卷\">但是这个软件注册过程比较复杂，需要先填写注册码，再到微信小程序中验证。<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-reg.png\" alt=\"注册\">因此我不在注册过程中花时间分析破解，而是从弹窗弹出的地方入手，绕过判断是否注册。</p>\n<h1 id=\"逆向\"><a href=\"#逆向\" class=\"headerlink\" title=\"逆向\"></a>逆向</h1><p>这次我选择的反编译工具是x64dbg（实际上是x32dbg），爱盘里有。先打开工具，拖入程序分析。右键搜索&gt;所有模块&gt;字符串，查找所有字符串，搜索关键词“注册”，找到如下几个目标（红框）：<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-search.png\" alt=\"搜索关键词\">咱们随便点开一个分析，双击跳转到“尚未注册，仅能答第一套题”的位置，再往上移动几行，键盘按G，生成流程图：<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-cfg.png\" alt=\"流程图\"><br>很明显可以看出此处是个判断流程，并且绿色为验证成功分支，红色为失败分支。通过调试，再次验证了我的猜测（调试过程略）。把鼠标放到判断指令<code>jle</code>上，键盘按<kbd>G</kbd>跳回汇编，按空格将<code>jle</code>改成<code>jmp</code>，回车。如图：<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-asm.png\" alt=\"汇编\">我们将搜索关键词找到的剩下几个目标也一一打开，发现判断流程全部一模一样，同上方法都把<code>jle</code>改成<code>jmp</code>。再次按下F9运行，在未注册的情况下，所有功能正常使用，弹窗消失，成功破解。如图：<br><img src=\"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/20/ec-success.png\" alt=\"成功\"></p>\n<h1 id=\"成品生成\"><a href=\"#成品生成\" class=\"headerlink\" title=\"成品生成\"></a>成品生成</h1><p><kbd>Ctrl+P</kbd>补丁，选择修补文件，生成<code>.exe</code>文件，替换程序目录中的即可。</p>\n","text":"前言如题，这次我来破解一下学校的微机练习软件。众所周知，我的逆向技术帖主要面向macOS和Linux，Windows逆向接触比较少，这次也是第一次破解Windows软件。因此技术方面的问题还请论坛的大佬指点。 分析说句没用的，学校的微机练习软件是用来练习微机中考的（我们这个省有）...","link":"","photos":[],"count_time":{"symbolsCount":730,"symbolsTime":"1 mins."},"categories":[{"name":"计算机","slug":"计算机","count":24,"path":"api/categories/计算机.json"}],"tags":[{"name":"反编译","slug":"反编译","count":16,"path":"api/tags/反编译.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%9E%90\"><span class=\"toc-text\">分析</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%80%86%E5%90%91\"><span class=\"toc-text\">逆向</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%88%90%E5%93%81%E7%94%9F%E6%88%90\"><span class=\"toc-text\">成品生成</span></a></li></ol>","author":{"name":"TLHorse","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/blog_img/avatar.jpg","link":"/","description":"","socials":{"github":"https://github.com/TLHorse","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45415111","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"零基础写一个Hopper插件hex2str","uid":"6c4d8fd5ee0834439819f79dc5ca0952","slug":"零基础写一个Hopper插件hex2str","date":"2022-01-29T03:13:16.000Z","updated":"2022-03-21T12:39:29.299Z","comments":true,"path":"api/articles/零基础写一个Hopper插件hex2str.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2022/01/29/hex2str-2.png","text":"前言之所以这么说，是因为我也是零基础写的。今天上午本来想搞一搞某个软件，放到Hopper里一看：满眼的十六进制！这可怎么转换…… 方法一：Python&gt;&gt;&gt; hexstr &#x3D; b&quot;\\xe5\\xa5\\x97\\xe5\\x8f\\x82\\xe5\\xb...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"计算机","slug":"计算机","count":24,"path":"api/categories/计算机.json"}],"tags":[{"name":"反编译","slug":"反编译","count":16,"path":"api/tags/反编译.json"},{"name":"Python","slug":"Python","count":5,"path":"api/tags/Python.json"}],"author":{"name":"TLHorse","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/blog_img/avatar.jpg","link":"/","description":"","socials":{"github":"https://github.com/TLHorse","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45415111","juejin":"","customs":{}}}},"next_post":{"title":"记一次Typora的逆向工程","uid":"b2fc974b964886354c4181c86e061189","slug":"记一次Typora的逆向工程","date":"2021-12-31T04:30:51.000Z","updated":"2022-03-21T12:40:34.572Z","comments":true,"path":"api/articles/记一次Typora的逆向工程.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/2021/12/11/typora-product.png","text":"前言学业负担逐渐加重，好久没有整逆向工程了。 正巧最近我用的Markdown编辑器发布了1.0版本，到官网看看，发现开始收费了，售价 $14.99 ，最多三台设备。可以先进行试用，试用期到了，就需要付费。抱着试试看的心态，今天就拿Typora Mac练练手。 分析把Typora丢...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"计算机","slug":"计算机","count":24,"path":"api/categories/计算机.json"}],"tags":[{"name":"反编译","slug":"反编译","count":16,"path":"api/tags/反编译.json"}],"author":{"name":"TLHorse","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/TLHorse/TLBlogBed@master/blog_img/avatar.jpg","link":"/","description":"","socials":{"github":"https://github.com/TLHorse","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45415111","juejin":"","customs":{}}}}}